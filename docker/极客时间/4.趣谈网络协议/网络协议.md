# IPv4地址分类

## 5类地址 & 私有IP

最常见是的IPv4的5种分类

![](./相关图片/5种地址分类.jpeg)

进一步细化就是下面这样。

![](./相关图片/ipv4地址范围.jpeg)

比如A类，最高位是0，网络号占7位，所以，网络号的范围是0-127。所以A类是范围就是0.0.0.0 - 127.255.255.255。其余种类依次类推。

其中这里提到了一个私有IP地址范围，这是什么意思呢？
私有IP地址是A、B、C三类IP地址中保留下来为企业内部网络分配地址时所使用的IP地址，专门为组织机构内部使用。它最大的特点是**属于非注册地址，即这些IP段范围内的地址，是不会出现在公网上的**。

上述三类私有IP地址范围是由RFC1918定义的。

## 网络号 & 主机号

什么是网络号，什么是主机号。
IP = 网络号 + 主机号

我们知道，全球的IP是由某个机构来管理的，这家机构叫ICANN，由它来分配管理全球的IP（当然后续授权给委托给其它机构）。
而某些组织或者公司，向分配机构申请IP时，实际申请的，并不是一个个具体的IP地址。而是申请一个网络号，分配机构通过审核后，将该网络号分配给申请的组织或者公司，那么该组织或公司就拥有了这个网络号下的所有主机号。

举例：IBM在1992年的时候，申请注册了一个A类地址的网络号，这个网络号是8，那么这就等于IBM获得了8.0.0.0 - 8.255.255.255之间的A类地址。A类地址的网络号是7位，加上最高位0。剩下24位全部都是主机号。这样IBM公司，就可以自行安排这2^24个IP地址，其主机数为16777214

一般获取到A类地址段的组织都是美国的一些大组织。下面这张表可供参考：

![](/Users/soleray/Documents/我的学习/极客时间/4.趣谈网络协议/相关图片/A类地址分配情况表.jpeg)

## 无类型域间选路（CIDR）

通过网络号和主机号的概念可知：组织或者机构，在申请IP地址时，实际上申请的是网络号，然后获得了此网络号下的所有主机号。

那么，如果按照以前ABC三类的方式，来申请网络号的话。
一旦成功申请一个A类网络号，你将拥有1677万多个IP
一旦成功申请一个B类网络号，你将拥有6W多个IP
一旦成功申请一个C类网络号，你将拥有256个IP

我们知道，一般组织或者公司，申请IP都是有实际用途的。如果按照这种方式来分配的话，且不说A类，就说B类吧，一般的公司都是用不了6W多个IP的，而C类，256个根本不够用。

而且继续用这种方式分配网络号的话，很快会造成网络地址的枯竭。同时又存在大量的浪费。而造成这种现象的根本原因在于，ABC三类的主机号都是8的倍数。

所以，为了更好更合理地分配网络号，网络协议组织推出了CIDR：简单来说，就是不再遵循ABC三类固定的主机号24位，16位，8位。

举例：10.100.122.2/24，这个 IP 地址中有一个斜杠，斜杠后面有个数字 24。这种地址表示形式，就是 CIDR。后面 24 的意思是，32 位中，前 24 位是网络号，后 8 位是主机号

伴随着 CIDR 存在的，一个是广播地址，10.100.122.255。如果发送这个地址，所有 10.100.122 网络里面的机器都可以收到。另一个是子网掩码，255.255.255.0

将子网掩码和 IP 地址按位计算 AND，就可得到网络号。

**就现在而言，网络号的分配，基本都是遵循CIDR**。

当然，随着IPv6的推广，这些也都将逐渐成为历史。

# Mac地址

在 IP 地址的上一行是 link/ether fa:16:3e:c7:79:75 brd ff:ff:ff:ff:ff:ff，这个被称为 MAC 地址，是一个网卡的物理地址，用十六进制，6 个 byte 表示。

MAC 地址是一个很容易让人“误解”的地址。因为 MAC 地址号称全局唯一，不会有两个网卡有相同的 MAC 地址，而且网卡自生产出来，就带着这个地址。很多人看到这里就会想，既然这样，整个互联网的通信，全部用 MAC 地址好了，只要知道了对方的 MAC 地址，就可以把信息传过去。这样当然是不行的。 一个网络包要从一个地方传到另一个地方，除了要有确定的地址，还需要有定位功能。 而有门牌号码属性的 IP 地址，才是有远程定位功能的。

例如，你去杭州市网商路 599 号 B 楼 6 层找刘超，你在路上问路，可能被问的人不知道 B 楼是哪个，但是可以给你指网商路怎么去。但是如果你问一个人，你知道这个身份证号的人在哪里吗？可想而知，没有人知道。

**MAC 地址更像是身份证，是一个唯一的标识**。它的唯一性设计是为了组网的时候，不同的网卡放在一个网络里面的时候，可以不用担心冲突。从硬件角度，保证不同的网卡有不同的标识。

